<Entity name="freezeStone">

  <Base file="mods/blankStone/files/entities/elemental_stone.xml">
    <PhysicsImageShapeComponent
      image_file="mods/blankStone/files/items_gfx/elemental_stone/stone_freeze.png"
    ></PhysicsImageShapeComponent>

    <SpriteComponent
      image_file="mods/blankStone/files/items_gfx/elemental_stone/stone_freeze.png"
    ></SpriteComponent>

    <ItemComponent
      item_name="$stone_blankstone_freezeStone_name"
      ui_description="$stone_blankstone_freezeStone_desc"
      ui_sprite="mods/blankStone/files/ui_gfx/elemental_stone/stone_freeze.png"
    ></ItemComponent>

    <UIInfoComponent
      name="$stone_blankstone_freezeStone_name"
    ></UIInfoComponent>

    <AbilityComponent
      ui_name="$stone_blankstone_freezeStone_name"
      throw_as_item="1"
    ></AbilityComponent>
  </Base>


  <!-- VFX -->

  <Base file="mods/blankStone/files/VFX/halo.xml">
    <SpriteParticleEmitterComponent
      color.r="0.0" color.g="0.0" color.b="0.4" color.a="0.25"
      color_change.r="0" color_change.g="0" color_change.b="0" color_change.a="-1.5"
      additive="1"
      emissive="1"
    ></SpriteParticleEmitterComponent>
  </Base>

  <!-- effect -->

  <!-- === MATERIAL IMMUNITY ======== -->
  <LuaComponent
    _tags="enabled_in_hand,enabled_in_inventory"
    script_source_file="mods/blankStone/files/scripts/status_effects/material_immunity_stone.lua"
    execute_every_n_frame="1"
  ></LuaComponent>

  <!-- Required -->
  <VariableStorageComponent
    name="protected_material"
    value_string="blood_cold_vapour"
  ></VariableStorageComponent>
  <!-- ============================== -->

  <Base file="data/entities/misc/material_converter_freeze.xml">
    <MagicConvertMaterialComponent
      _tags="enabled_in_hand"
      steps_per_frame="20"
      loop="1"
      is_circle="1"
      radius="20"> </MagicConvertMaterialComponent>

    <MagicConvertMaterialComponent
      _tags="enabled_in_hand"
      kill_when_finished="0"
      extinguish_fire="1"
      is_circle="1"
      loop="1"
      radius="30"> </MagicConvertMaterialComponent>
  </Base>


  <GameEffectComponent
    _tags="enabled_in_hand,enabled_in_inventory"
    effect="PROTECTION_FREEZE"
    frames="-1"
  ></GameEffectComponent>

  <VariableStorageComponent
    name="blankStoneID"
    value_string="freezeStone"
  ></VariableStorageComponent>

</Entity>